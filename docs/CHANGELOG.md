# 更新日志

## [1.0.1] - 2025-07-07

### 🚀 重大改进

#### 构建系统优化
- **构建输出目录**: 所有构建文件现在统一输出到 `dist/` 目录，项目结构更清晰
- **更新构建脚本**: 修改 `package.json` 构建脚本，自动复制必要文件到构建目录
- **安装脚本优化**: 更新 `install.sh` 和 `test-build.sh` 脚本以支持新的构建目录

#### 性能与用户体验优化
- **预览加载速度**: 大幅提升 XMind 文件预览加载速度
  - 实现 xmind-embed-viewer 库的预加载机制
  - 添加智能缓存，避免重复加载
  - 优化加载进度显示，提供详细的加载状态
- **全屏预览**: 修复预览窗口大小问题，现在预览内容会占满整个窗口
- **防重复打开**: 解决同一文件多次点击会打开多个窗口的问题
  - 智能检测已打开的文件标签页
  - 自动激活现有标签页而不是创建新的
  - 自动清理已关闭的标签页记录

#### 界面与样式改进
- **窗口标题**: 正确显示当前 XMind 文件名称在 Obsidian 顶部标题区域
- **加载状态**: 全新的加载界面设计
  - 优雅的加载动画
  - 详细的进度条显示
  - 分阶段加载提示（读取文件、验证格式、加载查看器等）
- **样式优化**: 完善的 CSS 样式，支持更好的响应式设计和主题适配

### 🔧 技术改进

#### 代码结构优化
- **错误处理**: 改进 TypeScript 类型安全，修复编译错误
- **模块化**: 更好的代码组织和模块分离
- **事件管理**: 优化事件监听器的注册和清理

#### 构建与部署
- **自动化脚本**: 完善的构建测试和部署脚本
- **文件组织**: 清晰的构建输出目录结构
- **开发体验**: 更好的开发和调试流程

### 🐛 问题修复

- 修复 XMind 文件预览加载缓慢的问题
- 修复预览窗口不能占满整个窗口的问题
- 修复同一文件重复打开多个窗口的问题
- 修复窗口标题显示不正确的问题
- 修复构建文件分散在项目目录的问题
- 修复 TypeScript 编译错误和类型安全问题

### 📚 文档更新

- 更新安装和使用说明
- 完善故障排除指南
- 添加性能优化建议

---

## [1.0.0] - 2025-07-06

### 🎉 首次发布

- **基础功能**: 支持在 Obsidian 中查看 XMind 文件
- **嵌入支持**: 在 Markdown 中嵌入 XMind 文件预览
- **缩略图提取**: 自动提取和缓存 XMind 文件缩略图
- **系统集成**: 支持调用系统 XMind 应用打开文件
- **交互式预览**: 基于 xmind-embed-viewer 的完整预览功能
- **设置面板**: 丰富的配置选项
- **多平台支持**: 支持 Windows、macOS、Linux
- **完整文档**: 详细的使用说明和开发指南 